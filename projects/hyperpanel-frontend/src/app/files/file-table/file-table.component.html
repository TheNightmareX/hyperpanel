<div class="container">
  <app-file-table-navigator
    class="table-navigation"
    [path]="path"
  ></app-file-table-navigator>
  <nz-table
    class="table-content"
    [nzData]="items"
    [nzFrontPagination]="false"
    [nzShowPagination]="false"
    [nzLoading]="loading"
    #table
  >
    <thead>
      <tr>
        <th
          [nzChecked]="!!getAllItemsCheckedStatus()"
          [nzIndeterminate]="getAllItemsCheckedStatus() == null"
          (nzCheckedChange)="setAllItemsCheckedStatus($event)"
        ></th>
        <th>Name</th>
        <th>Modified At</th>
        <th>Type</th>
        <th>Size</th>
      </tr>
    </thead>
    <tbody (contextmenu)="menuService.create($event, menu)">
      <tr
        *ngFor="let item of table.data; trackBy: tracker"
        (click)="selectItem(item)"
        (dblclick)="openItem(item)"
      >
        <td
          [nzChecked]="getItemCheckedStatus(item)"
          (nzCheckedChange)="setItemCheckedStatus(item, $event)"
        ></td>
        <td>
          <i nz-icon [nzType]="item.icon"></i>
          <span>{{ item.name }}</span>
        </td>
        <td>{{ item.modifiedAt | date: 'yyyy/MM/dd HH:mm:ss' }}</td>
        <td>{{ item.typeFinalized }}</td>
        <td>{{ item.sizeFinalized }}</td>
      </tr>
    </tbody>
  </nz-table>
  <nz-pagination
    class="table-pagination"
    nzResponsive
    nzShowSizeChanger
    [nzPageSizeOptions]="[50, 100, 200, 500, 1000, 2000]"
    nzShowQuickJumper
    [(nzPageIndex)]="page"
    [(nzPageSize)]="size"
    [nzTotal]="total"
    (nzPageIndexChange)="query()"
    (nzPageSizeChange)="page = 1; query()"
  ></nz-pagination>
</div>

<nz-dropdown-menu #menu>
  <app-file-table-menu></app-file-table-menu>
</nz-dropdown-menu>
